{% extends 'memb_dash.html' %}

{% load static %}


{% block title %}Member Settings{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/css/memb_gen_settings.css' %}">
{% endblock %}


{% block content %}
<div class="dashboard-overview">
    <h3> ‚öôÔ∏è&nbsp; General Settings</h3>
    <div class="next-meeting">
      <div class="setting-item">
        <label for="theme-toggle">Dark Mode</label>
        <label class="toggle-switch">
            <input type="checkbox" id="theme-toggle">
            <span class="slider"></span>
        </label>
      </div>
      
      <div class="setting-item">
          <label for="notifications">Enable Notifications</label>
          <input type="checkbox" id="notifications">
      </div>

      <div class="setting-item">
          <label for="language">Language</label>
          <select id="language">
              <option value="en">English</option>
              <option value="sw">Swahili</option>
              <option value="fr">French</option>
          </select>
      </div>

      <div class="setting-item">
          <label for="privacy">Privacy Settings</label>
          <button id="privacy-btn">Manage Privacy</button>
      </div>
      <!-- Privacy Settings Modal -->
      <div id="privacy-modal" class="modal">
          <div class="modal-content">
              <span class="close">&times;</span>
              <h3>Privacy Settings üîí</h2>
              <label>
                  <input type="checkbox" id="track-data"> &nbsp;Allow Data Tracking
              </label>
              <br>
              <label>
                  <input type="checkbox" id="share-profile"> &nbsp;Share Profile Publicly
              </label>
              <br>
              <button id="save-privacy">Save</button>
          </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
     const themeToggle = document.getElementById("theme-toggle");
 
     // Load saved theme preference
     if (localStorage.getItem("darkMode") === "enabled") {
         document.body.classList.add("dark-mode");
         themeToggle.checked = true;
     }
 
     // Toggle dark mode
     themeToggle.addEventListener("change", function () {
         document.body.classList.toggle("dark-mode");
         localStorage.setItem("darkMode", this.checked ? "enabled" : "disabled");
     });
 });
 
     document.addEventListener("DOMContentLoaded", function () {
     const modal = document.getElementById("privacy-modal");
     const privacyBtn = document.getElementById("privacy-btn");
     const closeBtn = document.querySelector(".close");
 
     // Open modal
     privacyBtn.addEventListener("click", function () {
         modal.style.display = "block";
     });
 
     // Close modal
     closeBtn.addEventListener("click", function () {
         modal.style.display = "none";
     });
 
     // Close if clicking outside modal
     window.addEventListener("click", function (event) {
         if (event.target === modal) {
             modal.style.display = "none";
         }
     });
 
     // Save Privacy Settings
     document.getElementById("save-privacy").addEventListener("click", function () {
         const tracking = document.getElementById("track-data").checked;
         const shareProfile = document.getElementById("share-profile").checked;
 
         alert(`Privacy Settings Updated:\nData Tracking: ${tracking}\nShare Profile: ${shareProfile}`);
         modal.style.display = "none";
     });
 });
 
 </script>
{% endblock %}
