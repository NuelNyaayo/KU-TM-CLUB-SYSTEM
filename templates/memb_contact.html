{% extends 'memb_dash.html' %}

{% load static %}


{% block title %}Member Contact{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/css/memb_contact.css' %}">
{% endblock %}


{% block content %}
<div class="dashboard-overview">
    <h3> ðŸ’¬&nbsp; Contact Us</h3>
    <div class="next-meeting">
        <div class="h4">
            <h4> Contact Form</h4>
            <div class="head"></div>
            <p>Have questions? Get in touch with us!</p>
        </div>
      
      <form id="contact-form">
        <div class="input-group">
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" placeholder="Enter your name" required>
            <span class="error-message"></span>
        </div>
        
        <div class="input-group">
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
            <span class="error-message"></span>
        </div>

        <div class="input-group">
            <label for="message">Your Message:</label>
            <textarea id="message" name="message" rows="5" placeholder="Type your message" required></textarea>
            <span class="error-message"></span>
        </div>
        
        <button class="btn" type="submit">Send Message</button>
    </form>
    <p id="formSuccess" class="success-message"></p>
    </div>
    
  </div>

{% endblock %}

{% block extra_js %}
<script>
    document.getElementById("contact-form").addEventListener("submit", function (event) {
     event.preventDefault(); // Prevent form from submitting normally
 
     let valid = true;
     let name = document.getElementById("name");
     let email = document.getElementById("email");
     let message = document.getElementById("message");
     let successMessage = document.getElementById("formSuccess");
 
     // Clear previous error messages
     document.querySelectorAll(".error-message").forEach(e => e.textContent = "");
 
     // Name validation
     if (name.value.trim() === "") {
         name.nextElementSibling.textContent = "Please enter your name.";
         valid = false;
     }
 
     // Email validation
     const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
     if (!emailPattern.test(email.value.trim())) {
         email.nextElementSibling.textContent = "Enter a valid email address.";
         valid = false;
     }
 
     // Message validation
     if (message.value.trim() === "") {
         message.nextElementSibling.textContent = "Message cannot be empty.";
         valid = false;
     }
 
     // If all inputs are valid, show success message and reset form
     if (valid) {
         successMessage.textContent = "Your message has been sent successfully!";
         setTimeout(() => successMessage.textContent = "", 3000);
         this.reset();
     }
 });
 
   </script>
{% endblock %}
